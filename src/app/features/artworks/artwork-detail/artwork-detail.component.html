@if (artwork$ | async; as artwork) {
  <div class="artwork-detail-container">
    <div class="artwork-gallery">
      <div class="main-image">
        @if (artwork.imageUrls && artwork.imageUrls.length > 0) {
          <img
            [src]="artwork.imageUrls[selectedImageIndex()]"
            [alt]="artwork.title"
            class="main-artwork-image">
        }
      </div>

      @if (artwork.imageUrls && artwork.imageUrls.length > 1) {
        <div class="thumbnail-strip">
          @for (imageUrl of artwork.imageUrls; track $index) {
            <div
              class="thumbnail"
              [class.active]="selectedImageIndex() === $index"
              (click)="selectImage($index)">
              <img [src]="imageUrl" [alt]="artwork.title">
            </div>
          }
        </div>
      }
    </div>

    <div class="artwork-info">
      <div class="breadcrumb">
        <span>LES OEUVRES</span>
        <span class="separator">—</span>
        <span>{{ artwork.categoryName }}</span>
      </div>

      <h1 class="artwork-title">{{ artwork.title }}</h1>

      @if (artwork.description) {
        <p class="artwork-description">{{ artwork.description }}</p>
      }

      <div class="artwork-actions">
        @if (artwork.isAvailable) {
          <div class="availability-badge available">
            Disponible à la vente
          </div>
          <button mat-raised-button color="primary" routerLink="/contact">
            Prendre contact
          </button>
        } @else {
          <div class="availability-badge sold">
            Œuvre vendue
          </div>
        }
      </div>

      <div class="navigation-actions">
        <button mat-stroked-button [routerLink]="['/artworks', artwork.categorySlug]">
          <mat-icon>arrow_back</mat-icon>
          Retour à {{ artwork.categoryName }}
        </button>
      </div>
    </div>
  </div>
}
