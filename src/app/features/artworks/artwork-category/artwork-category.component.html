<!-- Bannière hero avec titre de catégorie -->
<section class="category-hero">
  @if (viewModel$ | async; as vm) {
    <div class="hero-content">
      <h1>LES OEUVRES</h1>
      <div class="category-title">{{ vm.category.name }}</div>
    </div>
  }
</section>

<!-- Section principale avec les œuvres -->
@if (viewModel$ | async; as vm) {
  <section class="artworks-section">
    <div class="container">
      <div class="section-header">
        <h2>LES OEUVRES</h2>
        <p class="category-subtitle">— {{ vm.category.name }}</p>
      </div>

      @if (vm.artworks.length > 0) {
        <div class="artworks-grid">
          @for (artwork of vm.artworks; track artwork.id) {
            <div class="artwork-card" (click)="onArtworkClick(artwork.id)">
              <div class="artwork-image">
                @if (artwork.mainImageUrl) {
                  <img
                    [lazyLoad]="artwork.mainImageUrl"
                    [alt]="artwork.title"
                    [defaultImage]="'/assets/images/placeholder.jpg'">
                } @else if (artwork.imageUrls && artwork.imageUrls.length > 0) {
                  <img
                    [lazyLoad]="artwork.imageUrls[0]"
                    [alt]="artwork.title"
                    [defaultImage]="'/assets/images/placeholder.jpg'">
                } @else {
                  <div class="placeholder-image">
                    <mat-icon>image</mat-icon>
                  </div>
                }
              </div>
              <div class="artwork-info">
                <h3>{{ artwork.title }}</h3>
                @if (artwork.description) {
                  <p class="artwork-description">{{ artwork.description | slice:0:100 }}{{ artwork.description.length > 100 ? '...' : '' }}</p>
                }
                @if (artwork.dimensions || artwork.materials) {
                  <div class="artwork-meta">
                    @if (artwork.dimensions) {
                      <span class="dimensions">{{ artwork.dimensions }}</span>
                    }
                    @if (artwork.materials) {
                      <span class="materials">{{ artwork.materials }}</span>
                    }
                  </div>
                }
                <div class="artwork-status">
                  @if (artwork.isAvailable) {
                    <span class="available">Disponible</span>
                  } @else {
                    <span class="sold">Vendue</span>
                  }
                </div>
              </div>
            </div>
          }
        </div>
      } @else {
        <div class="empty-state">
          <mat-icon>palette</mat-icon>
          <h3>Aucune œuvre disponible</h3>
          <p>Aucune œuvre n'est disponible dans cette catégorie pour le moment.</p>
        </div>
      }

      <div class="navigation-buttons">
        <button mat-stroked-button routerLink="/artworks" class="nav-button">
          <mat-icon>arrow_back</mat-icon>
          TOUTES LES CATÉGORIES
        </button>
        <button mat-stroked-button routerLink="/contact" class="nav-button">
          <mat-icon>mail</mat-icon>
          CONTACT
        </button>
      </div>
    </div>
  </section>
}
