<section class="category-hero" [style.background-image]="'url(' + (viewModel$ | async)?.category.thumbnailUrl + ')'">
  @if (viewModel$ | async; as vm) {
    <div class="hero-content">
      <h1>LES ŒUVRES</h1>
      <div class="category-title">{{ vm.category.name }}</div>
    </div>
  }
</section>

@if (viewModel$ | async; as vm) {
  <section class="artworks-section">
    <div class="container">
      <div class="section-header">
        <blockquote>{{vm.category.description}}</blockquote>
      </div>

      @if (vm.artworks.length > 0) {
        <div class="artworks-grid">
          @for (artwork of vm.artworks; track artwork.id) {
            <div class="artwork-card" (click)="onArtworkClick(artwork.id)">
              <div class="artwork-image">
                @if (artwork.mainImageUrl) {
                  <img
                    [lazyLoad]="artwork.mainImageUrl"
                    [alt]="artwork.title"
                    [defaultImage]="'/assets/images/placeholder.jpg'">
                } @else if (artwork.imageUrls && artwork.imageUrls.length > 0) {
                  <img
                    [lazyLoad]="artwork.imageUrls[0]"
                    [alt]="artwork.title"
                    [defaultImage]="'/assets/images/placeholder.jpg'">
                } @else {
                  <div class="placeholder-image">
                    <mat-icon>image</mat-icon>
                  </div>
                }
              </div>
              <div class="artwork-info">
                <h3>{{ artwork.title }}</h3>
                @if (artwork.descriptionShort) {
                  <p class="artwork-description">{{ artwork.descriptionShort }}</p>
                }
              </div>
            </div>
          }
        </div>
      } @else {
        <div class="empty-state">
          <mat-icon>palette</mat-icon>
          <h3>Aucune œuvre disponible</h3>
          <p>Aucune œuvre n'est disponible dans cette catégorie pour le moment.</p>
        </div>
      }

      <div class="navigation-buttons">
        <button mat-stroked-button routerLink="/artworks" class="nav-button">
          <mat-icon>arrow_back</mat-icon>
          TOUTES LES CATÉGORIES
        </button>
        <button mat-stroked-button routerLink="/contact" class="nav-button">
          <mat-icon>mail</mat-icon>
          CONTACT
        </button>
      </div>
    </div>
  </section>
}
