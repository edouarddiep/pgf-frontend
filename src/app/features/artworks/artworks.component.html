<div class="artworks-hero">
  <div class="hero-overlay"></div>
  <div class="hero-content">
    <h1>LES ŒUVRES</h1>
    @if (currentCategory$ | async; as category) {
      <p>{{ category.name }}</p>
    }
  </div>
</div>

<section class="artworks-main">
  <div class="container">
    <div class="page-header">
      <h2>LES ŒUVRES</h2>
      @if (currentCategory$ | async; as category) {
        <p class="category-subtitle">— {{ category.name }}</p>
      }
    </div>

    @if (categorySlug$ | async; as slug) {
      <div class="artwork-detail-section">
        @if (filteredArtworks$ | async; as artworks) {
          @if (artworks.length > 0) {
            <div class="artworks-grid">
              @for (artwork of artworks; track artwork.id) {
                <div class="artwork-card" (click)="onArtworkClick(artwork.id)">
                  <div class="artwork-image">
                    @if (artwork.mainImageUrl) {
                      <img
                        [lazyLoad]="artwork.mainImageUrl"
                        [alt]="artwork.title"
                        [defaultImage]="getPlaceholderImage()">
                    } @else if (artwork.imageUrls && artwork.imageUrls.length > 0) {
                      <img
                        [lazyLoad]="artwork.imageUrls[0]"
                        [alt]="artwork.title"
                        [defaultImage]="getPlaceholderImage()">
                    } @else {
                      <div class="placeholder-image">
                        <mat-icon>image</mat-icon>
                      </div>
                    }
                  </div>
                  <div class="artwork-info">
                    <h3>{{ artwork.title }}</h3>
                    @if (artwork.description) {
                      <p class="artwork-description">{{ artwork.description }}</p>
                    }
                    <div class="artwork-status">
                      @if (artwork.isAvailable) {
                        <span class="available">Disponible</span>
                      } @else {
                        <span class="sold">Vendue</span>
                      }
                    </div>
                  </div>
                </div>
              }
            </div>
          } @else {
            <div class="no-artworks">
              <mat-icon>palette</mat-icon>
              <p>Aucune œuvre disponible dans cette catégorie</p>
            </div>
          }
        }

        <div class="navigation-buttons">
          <button mat-stroked-button routerLink="/">
            <mat-icon>home</mat-icon>
            RETOUR À L'ACCUEIL
          </button>
          @if (currentCategory$ | async; as category) {
            <button mat-stroked-button routerLink="/contact">
              <mat-icon>mail</mat-icon>
              CONTACT
            </button>
          }
        </div>
      </div>
    } @else {
      <!-- Redirection vers l'accueil si aucune catégorie n'est sélectionnée -->
      <div class="no-category">
        <h3>Sélectionnez une catégorie</h3>
        <p>Choisissez une catégorie d'œuvres depuis la page d'accueil</p>
        <button mat-raised-button routerLink="/" color="primary">
          RETOUR À L'ACCUEIL
        </button>
      </div>
    }
  </div>
</section>
