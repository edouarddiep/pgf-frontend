<!-- Bannière hero pour la page /artworks -->
@if (!(categorySlug$ | async)) {
  <section class="artworks-hero">
    <div class="hero-content">
      <h1>LES OEUVRES</h1>
    </div>
  </section>
}

<section class="artworks-section">
  <div class="container">
    <div class="section-header">
      @if (currentCategory$ | async; as category) {
        <h2>{{ category.name }}</h2>
      } @else {
        <h2>LES OEUVRES</h2>
      }
    </div>

    @if (categorySlug$ | async; as slug) {
      <!-- Affichage des œuvres filtrées par catégorie -->
      @if (filteredArtworks$ | async; as artworks) {
        @if (artworks.length > 0) {
          <div class="artworks-grid">
            @for (artwork of artworks; track artwork.id) {
              <app-artwork-card
                [artwork]="artwork"
                (cardClick)="onArtworkClick($event)">
              </app-artwork-card>
            }
          </div>
        } @else {
          <div class="empty-state">
            <mat-icon>palette</mat-icon>
            <h3>Aucune œuvre disponible</h3>
            <p>Aucune œuvre n'est disponible dans cette catégorie pour le moment.</p>
          </div>
        }
      } @else {
        <div class="loading-state">
          <mat-icon>hourglass_empty</mat-icon>
          <p>Chargement des œuvres...</p>
        </div>
      }

      <div class="navigation-buttons">
        <button mat-stroked-button routerLink="/artworks" class="nav-button">
          <mat-icon>arrow_back</mat-icon>
          TOUTES LES CATÉGORIES
        </button>
        <button mat-stroked-button routerLink="/contact" class="nav-button">
          <mat-icon>mail</mat-icon>
          CONTACT
        </button>
      </div>
    } @else {
      <!-- Affichage des catégories (même contenu que l'accueil) -->
      @if (categories$ | async; as categories) {
        @if (categories.length > 0) {
          <div class="categories-grid">
            @for (category of categories; track category.id) {
              <div class="category-card" (click)="onCategoryClick(category.slug)">
                <div class="category-image">
                  <img
                    [lazyLoad]="getCategoryThumbnail(category)"
                    [alt]="category.name"
                    [defaultImage]="'/assets/images/placeholder.jpg'">
                </div>
                <div class="category-info">
                  <h3>{{ category.name }}</h3>
                  @if (category.description) {
                    <p>{{ category.description }}</p>
                  }
                </div>
              </div>
            }
          </div>
        } @else {
          <div class="empty-state">
            <mat-icon>category</mat-icon>
            <h3>Aucune catégorie disponible</h3>
            <p>Les catégories seront bientôt disponibles à la consultation.</p>
          </div>
        }
      } @else {
        <div class="loading-state">
          <mat-icon>hourglass_empty</mat-icon>
          <p>Chargement des catégories...</p>
        </div>
      }
    }
  </div>
</section>
